<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">

    <ui:composition template="/baseTemplate.xhtml">
        <ui:define name="content">
            <p:panel header="Agregar Pelicula">
            <h:form enctype="multipart/form-data">
                <h:panelGrid columns="3">
                    <p:outputLabel value="#{bundle.CreateMoviesLabel_name}" for="name" />
                    <p:inputText id="name" value="#{moviesController.selected.name}" title="#{bundle.CreateMoviesTitle_name}" required="true" requiredMessage="#{bundle.CreateMoviesRequiredMessage_name}"/>
                    <p:message for="name"/>

                    <p:outputLabel value="#{bundle.CreateMoviesLabel_genre}" for="genre" />
                    <p:selectOneListbox id="genre" value="#{moviesController.selected.idGenre}"  required="true" requiredMessage="#{bundle.CreateMoviesRequiredMessage_genre}">
                        <f:selectItems value="#{genresController.items}" var="genre"
                                itemLabel="#{genre.name}" itemValue="#{genre.id}"/>
                    </p:selectOneListbox>
                    <p:message for="genre"/>

                    <p:outputLabel value="#{bundle.CreateMoviesLabel_synopsis}" for="synopsis" />
                    <p:inputTextarea rows="10" cols="20" id="synopsis" value="#{moviesController.selected.synopsis}"
                                     title="#{bundle.CreateMoviesTitle_synopsis}" required="true"
                                     requiredMessage="#{bundle.CreateMoviesRequiredMessage_synopsis}"
                            autoResize="false" />
                    <p:message for="synopsis"/>


                    <p:outputLabel value="#{bundle.CreateMoviesLabel_length}" for="length" />
                    <p:inputText id="length" value="#{moviesController.selected.length}" title="#{bundle.CreateMoviesTitle_length}" required="true" requiredMessage="#{bundle.CreateMoviesRequiredMessage_length}"/>
                    <p:message for="length"/>

                    <p:outputLabel value="#{bundle.CreateClientsLabel_registrationDate}" for="registrationDate"/>
                    <h:panelGrid columns="2">
                        <p:calendar id="registrationDate" value="#{moviesController.selected.registrationDate}" required="true"
                                requiredMessage="Campo de Fecha de Registo se encuentra vacÃ­o"/>
                    </h:panelGrid>
                    <p:message for="registrationDate"/>

                    <p:outputLabel value="#{bundle.CreateMoviesLabel_dispDvd}" for="dispDvd" />
                    <p:inputText id="dispDvd" value="#{moviesController.selected.dispDvd}" title="#{bundle.CreateMoviesTitle_dispDvd}" required="true" requiredMessage="#{bundle.CreateMoviesRequiredMessage_dispDvd}"/>
                    <p:message for="dispDvd"/>

                    <p:outputLabel value="#{bundle.CreateMoviesLabel_dispBray}" for="dispBray" />
                    <p:inputText id="dispBray" value="#{moviesController.selected.dispBray}" title="#{bundle.CreateMoviesTitle_dispBray}" required="true" requiredMessage="#{bundle.CreateMoviesRequiredMessage_dispBray}"/>
                    <p:message for="dispBray"/>

                    <h:outputText value="Portada: *" />
                    <p:fileUpload id="imagePath" value="#{moviesController.selected.file}" mode="simple" skinSimple="true" required="true"
                                  allowTypes="/(\.|\/)(gif|jpe?g|png)$/" label="Seleccionar Imagen" />
                    <p:message for="imagePath"/>

                </h:panelGrid>
                <p:commandButton action="#{moviesController.create}" value="#{bundle.CreateClientsSaveLink}" ajax="false"/>
            </h:form>
            </p:panel>
        </ui:define>
    </ui:composition>

</html>
